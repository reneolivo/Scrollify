!function(a,b){"use strict";"function"==typeof define&&define.amd?define(["jquery"],function(c){return b(c,a,a.document)}):"object"==typeof module&&module.exports?module.exports=function(c,d){return void 0===d&&(d="undefined"!=typeof window?require("jquery"):require("jquery")(c)),b(d,a,a.document),d}:b(jQuery,a,a.document)}("undefined"!=typeof window?window:this,function(a,b,c,d){"use strict";function e(){r=s}function f(c,d,f){var g=!1;if(t===c&&(f=!1),B===!0)return!0;if(o[c]){if(y=!1,f&&(g=I.before(c,p)===!1),u=1,G=n[c],E===!1&&t>c&&q[c]&&(u=parseInt(p[c].outerHeight()/w.height()),G=parseInt(n[c])+(p[c].outerHeight()-w.height())),g)return e(),void(z=!1);if(s=c,I.sectionName&&(E!==!0||0!==c))if(history.pushState)try{history.replaceState(null,null,o[c])}catch(a){b.console&&console.warn("Scrollify warning: This must be hosted to manipulate the hash value.")}else b.location.hash=o[c];if(d)a(I.target).stop().scrollTop(G),f&&I.after(c,p);else{if(z=!0,a().velocity?a(I.target).stop().velocity("scroll",{duration:I.scrollSpeed,easing:I.easing,offset:G,mobileHA:!1}):a(I.target).stop().animate({scrollTop:G},I.scrollSpeed,I.easing),b.location.hash.length&&I.sectionName&&b.console)try{a(b.location.hash).length&&console.warn("Scrollify warning: There are IDs that match the hash value - this will cause the page to anchor.")}catch(a){console.warn("Scrollify warning:",b.location.hash,"is not a valid jQuery expression.")}a(I.target).promise().done(function(){t=c,z=!1,E=!1,f&&I.after(c,p)})}}}function g(a){function b(b){for(var c=0,d=a.slice(Math.max(a.length-b,1)),e=0;e<d.length;e++)c+=d[e];return Math.ceil(c/b)}var c=b(10),d=b(70);return c>=d}function h(a,b){for(var c=o.length;c>=0;c--)"string"==typeof a?o[c]===a&&(r=c,f(c,b,!0)):c===a&&(r=c,f(c,b,!0))}var i,j,k,l,m,n=[],o=[],p=[],q=[],r=0,s=0,t=0,u=1,v=!1,w=a(b),x=w.scrollTop(),y=!1,z=!1,A=!1,B=!1,C=[],D=(new Date).getTime(),E=!0,F=!1,G=0,H="onwheel"in c?"wheel":c.onmousewheel!==d?"mousewheel":"DOMMouseScroll",I={section:".section",sectionName:"section-name",interstitialSection:"",easing:"easeOutExpo",scrollSpeed:1100,offset:0,scrollbars:!0,target:"html,body",standardScrollElements:!1,setHeights:!0,overflowScroll:!0,before:function(){},after:function(){},afterResize:function(){},afterRender:function(){}};a.scrollify=function(d){function e(b){a().velocity?a(I.target).stop().velocity("scroll",{duration:I.scrollSpeed,easing:I.easing,offset:b,mobileHA:!1}):a(I.target).stop().animate({scrollTop:b},I.scrollSpeed,I.easing)}function h(){var b=I.section;q=[],I.interstitialSection.length&&(b+=","+I.interstitialSection),I.scrollbars===!1&&(I.overflowScroll=!1),a(b).each(function(b){var c=a(this);I.setHeights?c.is(I.interstitialSection)?q[b]=!1:c.css("height","auto").outerHeight()<w.height()||"hidden"===c.css("overflow")?(c.css({height:w.height()}),q[b]=!1):(c.css({height:c.height()}),I.overflowScroll?q[b]=!0:q[b]=!1):c.outerHeight()<w.height()||I.overflowScroll===!1?q[b]=!1:q[b]=!0})}function s(c,d){var e=I.section;I.interstitialSection.length&&(e+=","+I.interstitialSection),n=[],o=[],p=[],a(e).each(function(c){var d=a(this);c>0?n[c]=parseInt(d.offset().top)+I.offset:n[c]=parseInt(d.offset().top),I.sectionName&&d.data(I.sectionName)?o[c]="#"+d.data(I.sectionName).toString().replace(/ /g,"-"):d.is(I.interstitialSection)===!1?o[c]="#"+(c+1):(o[c]="#",c===a(e).length-1&&c>1&&(n[c]=n[c-1]+parseInt(d.height()))),p[c]=d;try{a(o[c]).length&&b.console&&console.warn("Scrollify warning: Section names can't match IDs - this will cause the browser to anchor.")}catch(a){}b.location.hash===o[c]&&(r=c,v=!0)}),!0===c&&f(r,!1,!1),!0===d&&I.afterRender()}function t(){return!q[r]||(x=w.scrollTop(),!(x>parseInt(n[r])))}function E(){return!q[r]||(x=w.scrollTop(),!(x<parseInt(n[r])+(p[r].outerHeight()-w.height())-28))}F=!0,a.easing.easeOutExpo=function(a,b,c,d,e){return b==e?c+d:d*(-Math.pow(2,-10*b/e)+1)+c},k={handleMousedown:function(){return B===!0||(y=!1,void(A=!1))},handleMouseup:function(){return B===!0||(y=!0,void(A&&k.calculateNearest(!1,!0)))},handleScroll:function(){return B===!0||(i&&clearTimeout(i),void(i=setTimeout(function(){return A=!0,y!==!1&&(y=!1,void k.calculateNearest(!1,!0))},200)))},calculateNearest:function(a,b){x=w.scrollTop();for(var c,d=1,e=n.length,g=0,h=Math.abs(n[0]-x);d<e;d++)c=Math.abs(n[d]-x),c<h&&(h=c,g=d);(E()||t())&&(r=g,f(g,a,b))},wheelHandler:function(c){if(B===!0)return!0;if(I.standardScrollElements&&(a(c.target).is(I.standardScrollElements)||a(c.target).closest(I.standardScrollElements).length))return!0;q[r]||c.preventDefault();var d=(new Date).getTime();c=c||b.event;var e=c.originalEvent.wheelDelta||-c.originalEvent.deltaY||-c.originalEvent.detail,h=Math.max(-1,Math.min(1,e));if(C.length>149&&C.shift(),C.push(Math.abs(e)),d-D>200&&(C=[]),D=d,z)return!1;if(h<0){if(r<n.length-1&&E()){if(!g(C))return!1;c.preventDefault(),r++,z=!0,f(r,!1,!0)}}else if(h>0&&r>0&&t()){if(!g(C))return!1;c.preventDefault(),r--,z=!0,f(r,!1,!0)}},keyHandler:function(a){return B===!0||z!==!0&&void(38==a.keyCode?r>0&&t()&&(a.preventDefault(),r--,f(r,!1,!0)):40==a.keyCode&&r<n.length-1&&E()&&(a.preventDefault(),r++,f(r,!1,!0)))},init:function(){I.scrollbars?(w.on("mousedown",k.handleMousedown),w.on("mouseup",k.handleMouseup),w.on("scroll",k.handleScroll)):a("body").css({overflow:"hidden"}),w.on(H,k.wheelHandler),w.on("keydown",k.keyHandler)}},l={touches:{touchstart:{y:-1,x:-1},touchmove:{y:-1,x:-1},touchend:!1,direction:"undetermined"},options:{distance:30,timeGap:800,timeStamp:(new Date).getTime()},touchHandler:function(b){if(B===!0)return!0;if(I.standardScrollElements&&(a(b.target).is(I.standardScrollElements)||a(b.target).closest(I.standardScrollElements).length))return!0;var c;if("undefined"!=typeof b&&"undefined"!=typeof b.touches)switch(c=b.touches[0],b.type){case"touchstart":l.touches.touchstart.y=c.pageY,l.touches.touchmove.y=-1,l.touches.touchstart.x=c.pageX,l.touches.touchmove.x=-1,l.options.timeStamp=(new Date).getTime(),l.touches.touchend=!1;case"touchmove":l.touches.touchmove.y=c.pageY,l.touches.touchmove.x=c.pageX,l.touches.touchstart.y!==l.touches.touchmove.y&&Math.abs(l.touches.touchstart.y-l.touches.touchmove.y)>Math.abs(l.touches.touchstart.x-l.touches.touchmove.x)&&(b.preventDefault(),l.touches.direction="y",l.options.timeStamp+l.options.timeGap<(new Date).getTime()&&0==l.touches.touchend&&(l.touches.touchend=!0,l.touches.touchstart.y>-1&&Math.abs(l.touches.touchmove.y-l.touches.touchstart.y)>l.options.distance&&(l.touches.touchstart.y<l.touches.touchmove.y?l.up():l.down())));break;case"touchend":l.touches[b.type]===!1&&(l.touches[b.type]=!0,l.touches.touchstart.y>-1&&l.touches.touchmove.y>-1&&"y"===l.touches.direction&&(Math.abs(l.touches.touchmove.y-l.touches.touchstart.y)>l.options.distance&&(l.touches.touchstart.y<l.touches.touchmove.y?l.up():l.down()),l.touches.touchstart.y=-1,l.touches.touchstart.x=-1,l.touches.direction="undetermined"))}},down:function(){r<=n.length-1&&(E()&&r<n.length-1?(r++,f(r,!1,!0)):Math.floor(p[r].height()/w.height())>u?(e(parseInt(n[r])+w.height()*u),u+=1):e(parseInt(n[r])+(p[r].height()-w.height())))},up:function(){r>=0&&(t()&&r>0?(r--,f(r,!1,!0)):u>2?(u-=1,e(parseInt(n[r])+w.height()*u)):(u=1,e(parseInt(n[r]))))},init:function(){c.addEventListener&&(c.addEventListener("touchstart",l.touchHandler,!1),c.addEventListener("touchmove",l.touchHandler,!1),c.addEventListener("touchend",l.touchHandler,!1))}},m={refresh:function(a,b){clearTimeout(j),j=setTimeout(function(){h(),s(b,!1),a&&I.afterResize()},400)},handleUpdate:function(){m.refresh(!1,!0)},handleResize:function(){m.refresh(!0,!1)},handleOrientation:function(){m.refresh(!0,!0)}},I=a.extend(I,d),h(),s(!1,!0),!0===v?f(r,!1,!0):setTimeout(function(){k.calculateNearest(!0,!1)},200),n.length&&(k.init(),l.init(),w.on("resize",m.handleResize),c.addEventListener&&b.addEventListener("orientationchange",m.handleOrientation,!1))},a.scrollify.move=function(b){return b!==d&&(b.originalEvent&&(b=a(this).attr("href")),void h(b,!1))},a.scrollify.instantMove=function(a){return a!==d&&void h(a,!0)},a.scrollify.next=function(){r<o.length&&(r+=1,f(r,!1,!0))},a.scrollify.previous=function(){r>0&&(r-=1,f(r,!1,!0))},a.scrollify.instantNext=function(){r<o.length&&(r+=1,f(r,!0,!0))},a.scrollify.instantPrevious=function(){r>0&&(r-=1,f(r,!0,!0))},a.scrollify.destroy=function(){return!!F&&(I.setHeights&&a(I.section).each(function(){a(this).css("height","auto")}),w.off("resize",m.handleResize),I.scrollbars&&(w.off("mousedown",k.handleMousedown),w.off("mouseup",k.handleMouseup),w.off("scroll",k.handleScroll)),w.off(H,k.wheelHandler),w.off("keydown",k.keyHandler),c.addEventListener&&(c.removeEventListener("touchstart",l.touchHandler,!1),c.removeEventListener("touchmove",l.touchHandler,!1),c.removeEventListener("touchend",l.touchHandler,!1)),n=[],o=[],p=[],void(q=[]))},a.scrollify.update=function(){return!!F&&void m.handleUpdate()},a.scrollify.current=function(){return p[r]},a.scrollify.disable=function(){B=!0},a.scrollify.enable=function(){B=!1,F&&k.calculateNearest(!1,!1)},a.scrollify.isDisabled=function(){return B},a.scrollify.setOptions=function(c){return!!F&&void("object"==typeof c?(I=a.extend(I,c),m.handleUpdate()):b.console&&console.warn("Scrollify warning: setOptions expects an object."))}});